{% extends 'base.html' %}
{% load static %}
{% block content %}
{% load removespecial %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.js"></script>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
<link rel="stylesheet" href="{% static 'mainpage.css' %}">

<h1 class="display-1 text-center">Top Picks</h1>
<style>
    #snackbar {
        visibility: hidden; /* Hidden by default. Visible on click */
        min-width: 250px; /* Set a default minimum width */
        margin-left: -125px; /* Divide value of min-width by 2 */
        background-color: #333; /* Black background color */
        color: #fff; /* White text color */
        text-align: center; /* Centered text */
        border-radius: 2px; /* Rounded borders */
        padding: 16px; /* Padding */
        position: fixed; /* Sit on top of the screen */
        z-index: 1; /* Add a z-index if needed */
        left: 50%; /* Center the snackbar */
        bottom: 30px; /* 30px from the bottom */
      }
      
      /* Show the snackbar when clicking on a button (class added with JavaScript) */
      #snackbar.show {
        visibility: visible; /* Show the snackbar */
        /* Add animation: Take 0.5 seconds to fade in and out the snackbar.
        However, delay the fade out process for 2.5 seconds */
        -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
        animation: fadein 0.5s, fadeout 0.5s 2.5s;
      }
      /* Animations to fade the snackbar in and out */
      @-webkit-keyframes fadein {
        from {bottom: 0; opacity: 0;}
        to {bottom: 30px; opacity: 1;}
      }
      
      @keyframes fadein {
        from {bottom: 0; opacity: 0;}
        to {bottom: 30px; opacity: 1;}
      }
      
      @-webkit-keyframes fadeout {
        from {bottom: 30px; opacity: 1;}
        to {bottom: 0; opacity: 0;}
      }
      
      @keyframes fadeout {
        from {bottom: 30px; opacity: 1;}
        to {bottom: 0; opacity: 0;}
      }
    </style>
<div id="snackbar">Invalid Movie!</div> 


<div class="page-content page-container" id="page-content" >
    <div class="padding">
        <div class="row container-fluid" >
            <div class="col-lg-12 grid-margin stretch-card" style="background-color: black;">
                <div class="card" style="border-color: black; background-color: black;">
                    <div class="card-body" style="background-color: black;">
                        <div class="owl-carousel">
                        
                            {% for movie in most_popular_movies %}
                            <!-- <h5 id="{{forloop.counter}}">{{movie.name}}</h5> -->
                                
                            <h8 id="{{most_popular_movies|length|add:1}}" class="title" style="text-decoration: black; margin: 0%; font-size: 0%;"><a href="{% url 'movie' movie.id %}" id="{{forloop.counter}}"><div class="item p-5"><img id="{{movie.name|removespecial}}" src='' alt="...">{{movie.name}}</div></a></h8>
                                
                            {% endfor %}
                        
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    $(document).ready(function() {

$(".owl-carousel").owlCarousel({

autoPlay: 3000,
items : 4,
itemsDesktop : [1199,3],
itemsDesktopSmall : [979,3],
center: true,
nav:true,
loop:true,
responsive: {
600: {
items: 4
}
}

});

});
</script>

<style>
    .image-text {
  position: relative;
  text-align: center;
  color: white;
}

/* Centered text */
.centered {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

}

div.item:hover {
    transition: 0.2s ease-in-out;
    font-size: 150%;
    color: white;
    font-weight: bold;
}
</style>


<!-- if movie search unsuccessful -->


<br>
<h2 style="text-align:center; font-weight: bold; display: block;" class="display-1 bg-warning">GENRE</h2> 
<br>

<div class="main">
    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <!-- <h1 id="{{crime|length|add:1}}" class="title" style="text-decoration: black; margin: 0%; font-size: 0%;"> -->
                <a href="{% url 'genre_type' genre_name='action' %}">
                    <div class="item " style="border-color: black; background-color: black;">
                        <img id="{{action|removespecial}}" src='http://image.tmdb.org/t/p/w500/6a2HY6UmD7XiDD3NokgaBAXEsD2.jpg' alt="No image" style="height: 435px; width: 290px; opacity: 0.5;">
                        <div class="centered" style="font-size: 2em;">Action</div>
                        <!-- <h5 class="card-title" id="590" style="font-weight: bold; font-size: 0;">{{action}}</h5> -->
                    </div>
                </a>
                <!-- </h1> -->
            </div>
          <div class="col-md-3">
            <!-- <h1 id="{{crime|length|add:1}}" class="title" style="text-decoration: black; margin: 0%; font-size: 0%;"> -->
            <a href="{% url 'genre_type' genre_name='adventure' %}">
                <div class="item " style="border-color: black; background-color: black;">
                    <img id="{{adventure|removespecial}}" src='http://image.tmdb.org/t/p/w500/mYDKm9HxImm8PRru3KbkHAe1cmk.jpg' alt="No image" style="height: 435px; width: 290px; opacity: 0.5;">
                    <div class="centered" style="font-size: 2em;">Adventure</div>
                    <!-- <h5 class="card-title" id="591" style="font-weight: bold; font-size: 0;">{{adventure}}</h5> -->
                </div>
            </a>
            <!-- </h1> -->
        </div>
          <div class="col-md-3">
            <!-- <h1 id="{{crime|length|add:1}}" class="title" style="text-decoration: black; margin: 0%; font-size: 0%;"> -->
            <a href="{% url 'genre_type' genre_name='horror' %}">
                <div class="item " style="border-color: black; background-color: black;">
                    <img id="{{horror|removespecial}}" src='http://image.tmdb.org/t/p/w500/f7pn0VD3QpEXH8sETFNUow4o7hz.jpg' alt="No image" style="height: 435px; width: 290px; opacity: 0.5;">
                    <div class="centered" style="font-size: 2em;">Horror</div>
                    <!-- <h5 class="card-title" id="592" style="font-weight: bold; font-size: 0;">{{horror}}</h5> -->
                </div>
            </a>
            <!-- </h1> -->
        </div>
          <div class="col-md-3">
            <!-- <h1 id="{{crime|length|add:1}}" class="title" style="text-decoration: black; margin: 0%; font-size: 0%;"> -->
            <a href="{% url 'genre_type' genre_name='sciencefiction' %}">
                <div class="item " style="border-color: black; background-color: black;">
                    <img id="{{sciencefiction|removespecial}}" src='http://image.tmdb.org/t/p/w500/6WBeq4fCfn7AN0o21W9qNcRF2l9.jpg' alt="No image" style="height: 435px; width: 290px; opacity: 0.5;">
                    <div class="centered" style="font-size: 2em;">Science Fiction</div>
                    <!-- <h5 class="card-title" id="593" style="font-weight: bold; font-size: 0;">{{sciencefiction}}</h5> -->
                </div>
            </a>
            <!-- </h1> -->
        </div>
        </div>
    
    </div>
    
    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <!-- <h1 id="{{crime|length|add:1}}" class="title" style="text-decoration: black; margin: 0%; font-size: 0%;"> -->
                <a href="{% url 'genre_type' genre_name='crime' %}">
                    <div class="item" style="border-color: black; background-color: black;">
                        <img id="{{crime|removespecial}}" src='http://image.tmdb.org/t/p/w500/y1MYZkwhZK6L0Jy4YMuPktzDOfn.jpg' alt="No image" style="height: 435px; width: 290px; opacity: 0.5;">
                        <div class="centered" style="font-size: 2em;">Crime</div>
                        <!-- <h5 class="card-title" id="594" style="font-weight: bold; ">{{crime}}</h5> -->
                    </div>
                </a>
                <!-- </h1> -->
            </div>
    
            <div class="col-md-3">
                <!-- <h1 id="{{crime|length|add:1}}" class="title" style="text-decoration: black; margin: 0%; font-size: 0%;"> -->
                <a href="{% url 'genre_type' genre_name='romance' %}">
                    <div class="item " style="border-color: black; background-color: black;">
                        <img id="{{romance|removespecial}}" src='http://image.tmdb.org/t/p/w500/9xjZS2rlVxm8SFx8kPC3aIGCOYQ.jpg' alt="No image" style="height: 435px; width: 290px; opacity: 0.5;">
                        <div class="centered" style="font-size: 2em;">Romance</div>
                        <!-- <h5 class="card-title" id="595" style="font-weight: bold; font-size: 0;">{{romance}}</h5> -->
                    </div>
                </a>
                <!-- </h1> -->
            </div>
    
            <div class="col-md-3">
                <!-- <h1 id="{{crime|length|add:1}}" class="title" style="text-decoration: black; margin: 0%; font-size: 0%;"> -->
                <a href="{% url 'genre_type' genre_name='thriller' %}">
                    <div class="item " style="border-color: black; background-color: black;">
                        <img id="{{thriller|removespecial}}" src='http://image.tmdb.org/t/p/w500/kve20tXwUZpu4GUX8l6X7Z4jmL6.jpg' alt="No image" style="height: 435px; width: 290px; opacity: 0.5;">
                        <div class="centered" style="font-size: 2em;">Thriller</div>
                        <!-- <h5 class="card-title" id="596" style="font-weight: bold; font-size: 0;">{{thriller}}</h5> -->
                    </div>
                </a>
                <!-- </h1> -->
            </div>
    
            <div class="col-md-3">
                <!-- <h1 id="{{crime|length|add:1}}" class="title" style="text-decoration: black; margin: 0%; font-size: 0%;"> -->
                <a href="{% url 'genre_type' genre_name='comedy' %}">
                    <div class="item image" style="border-color: black; background-color: black;"> 
                        <img id="{{comedy|removespecial}}" src='http://image.tmdb.org/t/p/w500/nlr2oxuYsHXt0wdtmzaOuVBoNC0.jpg' alt="No image" style="height: 435px; width: 290px; opacity: 0.5;">
                        <!-- <h5 class="card-title" id="597" style="font-weight: bold; font-size: 0;">{{comedy}}</h5> -->
                        <div class="centered" style="font-size: 2em;">Comedy</div>
                    </div>
                </a>
                <!-- </h1> -->
            </div>
    </div>
    </div>
    

</div>

<script src="{% static 'searchbase.js' %}"></script>
<script src="{% static 'recommend.js' %}"></script>
<script>
    var wrong = {{ wrong }};
    function makeToast() {
    // Get the snackbar DIV
    var x = document.getElementById("snackbar");
  
    // Add the "show" class to DIV
    x.className = "show";
  
    // After 3 seconds, remove the show class from DIV
    setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
    wrong = 0;
  }
    if (wrong == 1) {
        makeToast();
    }  
</script>
{% endblock content %}

