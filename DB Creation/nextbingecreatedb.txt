CREATE DATABASE nextbinge;
USE nextbinge;
CREATE TABLE actor (
actor_id INT AUTO_INCREMENT PRIMARY KEY,
name VARCHAR(30),
age INT,
dob DATE,
dod DATE,
CHECK(dob < dod));
CREATE TABLE director (
director_id INT AUTO_INCREMENT PRIMARY KEY,
name VARCHAR(30),
age INT,
dob DATE,
dod DATE,
CHECK(dob < dod));
CREATE TABLE production_house (
production_id INT AUTO_INCREMENT PRIMARY KEY,
name VARCHAR(30));
CREATE TABLE cast (
cast_id INT AUTO_INCREMENT PRIMARY KEY,
actor_id INT,
director_id INT,
production_id INT,
FOREIGN KEY(actor_id) REFERENCES actor(actor_id),
FOREIGN KEY(director_id) REFERENCES director(director_id),
FOREIGN KEY(production_id) REFERENCES production_house(production_id));
CREATE TABLE movie (
movie_id INT AUTO_INCREMENT,
cast_id INT,
movie_name VARCHAR(50),
FOREIGN KEY (`cast_id`) REFERENCES `cast`(`cast_id`),
PRIMARY KEY (movie_id, cast_id));
CREATE TABLE details (
movie_id INT,
genre VARCHAR(20),
description VARCHAR(200),
duration INT,
release_date DATE,
total_episodes INT,
rating DECIMAL(2, 1),
CHECK (rating > 0 AND rating <= 10),
FOREIGN KEY (movie_id) REFERENCES movie(movie_id));